# AlfasTestTask

Решение задания: 

Решение должно быть представлено в виде docker-compose конфигурации. 
Задачу необходимо решить в течение недели с момента получения. Код должен быть оформлен в виде git репозитория на любом доступном ресурсе.
Необходимо предоставить credentials для того, чтобы мы могли получить доступ к коду.

Выберите, пожалуйста, nickname, по которому мы сможем легко идентифицировать ваше решение. Например, почта, или имя пользователя в телеграм.

Нужно реализовать pipeline:
Сервис источник ---> очередь kafka ---> БД Clickhouse

Сервис источник: 

	Генератор простых чисел в возрастающем порядке.
	Язык C#, .NET Core 7, Linux контейнер. 
	Генерация происходит следующим образом: 
	Для каждого перезапуска:
		1) найти число, которое было последним помещено в очередь.
		2) для следующих 20 чисел:
			a) сгенерировать следующее число x и отправить его в очередь
			б) подождать t мс, где t равно остатку от деления числа, сгенерированного на шаге a) на 17 т.е. t = x % 17мс;
		3) после отправки 20 чисел подождать до начала следующей секунды
		4) повторить процедуру с 2)

Kafka: 

	Можно использовать любой контейнер, реализующий функционал Kafka. Требований по кол-ву нод, партиций - нет. 

Clickhouse контейнер:

	В СУБД нужно создать бд alfn и в ней таблицу primes
	Таблица должна содержать: штамп времени, когда было сгенерировано число, штамп 	времени, когда сообщение было помещено в очередь,ваш никнейм, сгенерированное число. 
	Необходимо обеспечить наличие полного доступа (права администратора сервера) к 	данному инстансу СУБД для пользователя с username = 'alfn' и таким же паролем. При условии, что соединение будет осуществляться с помощью консольного клиента clickhouse-client, установленного на хосте докера

Таким образом, решение должно содержать 3 контейнера. Нельзя обращаться из сервиса генерации к Clickhouse.
